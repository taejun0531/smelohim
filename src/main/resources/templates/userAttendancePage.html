<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>출석부</title>
    <link rel="stylesheet" type="text/css" href="/css/userAttendancePage.css">
    <script type="text/javascript" src="/js/themeToggle.js" defer></script>
    <script type="text/javascript" src="/js/userAttendancePage.js" defer></script>
</head>
<body>
<!-- Topbar -->
<div class="topbar">
    <div class="brand">엘로힘 청년부</div>
    <a class="moveMainPageText" href="/">메인으로</a>
    <button id="toggleTheme" class="theme-toggle" aria-pressed="false">🌙 다크모드</button>
</div>

<!-- Page header -->
<div class="page-header">
    <h1 th:text="${cellName + ' 출석부'}"></h1>
</div>

<!-- Month navigator -->
<div class="month-card">
    <div class="month-nav">
        <button id="prevMonth" class="month-btn" type="button" aria-label="이전 달로 이동">◀</button>

        <div class="month-label">
            <span id="yearLabel">0000</span>년
            <span id="monthLabel">00</span>월
        </div>

        <button id="nextMonth" class="month-btn" type="button" aria-label="다음 달로 이동">▶</button>
    </div>

    <div class="month-note">
        선택된 달의 <strong>주일(일요일)</strong>만 표시됩니다.
    </div>
</div>

<!-- Attendance table -->
<div class="card">
    <div class="card-accent"></div>

    <div class="card-header-row">
        <div class="table-title">
            <span class="dot"></span>
            <span>출석 현황</span>
        </div>
        <button id="saveAttendanceBtn" type="button" class="btn primary">
            출석 저장
        </button>
    </div>

    <div class="table-wrapper">
        <table id="attendanceTable">
            <thead>
            <tr id="headerRow1">
                <th rowspan="2" class="col-name">이름</th>
                <!-- JS에서 주일 날짜 th(colspan=3) 삽입 -->
            </tr>
            <tr id="headerRow2">
                <!-- JS에서 각 날짜별 '예배'/'셀'/'메모' 헤더 삽입 -->
            </tr>
            </thead>
            <tbody id="attendanceBody">
            <!-- 멤버 행 -->
            <tr th:each="member : ${memberList}"
                th:data-member-id="${member.id}"
                th:data-member-name="${member.memberName}">
                <td class="member-name" th:text="${member.memberName}"></td>
                <!-- JS에서 해당 월의 주일 개수만큼 셀(예배/셀/메모)을 추가 -->
            </tr>
            </tbody>
        </table>
    </div>

    <div class="card-footer">
        <p class="help-text">
            출석 체크 / 메모 입력 후 <strong>‘출석 저장’</strong> 버튼을 눌러야 데이터가 저장됩니다.
        </p>
    </div>
</div>

</body>
</html>
