/* ==== Elohim Youth · Personal Data (Fresh & Clean Green) ================= */

/* 전역 트랜지션: 색/테두리/그림자에만 적용(배경 레이어는 아래에서 opacity로 크로스페이드) */
@media (prefers-reduced-motion: no-preference){
    html, body, body *{
        transition:
                color .45s ease,
                border-color .45s ease,
                box-shadow .45s ease,
                outline-color .45s ease,
                background-color .45s ease;
    }
}

/* 토글 직후 조금 더 부드럽게 보이도록 */
body.theme-fade * { transition-duration: .45s; }

/* 팔레트(라이트) */
:root{
    --bg:#f4fff7;
    --card:#ffffff;
    --text:#0b1b14;
    --muted:#2e5547;
    --subtle:#3d6a5a;
    --placeholder:#6f8b80;
    --border:#cfeee0;

    --brand:#22c55e;      /* emerald-500 */
    --brand-dark:#16a34a; /* emerald-600 */
    --brand-weak:#eafff1;
    --ring:34 197 94;

    --radius:16px;
    --shadow:0 10px 22px rgba(16,185,129,.10), 0 2px 6px rgba(2,44,34,.05);
}

/* 팔레트(다크) — 가독성 강화 */
body.dark{
    --bg:#08110e;
    --card:#0f201a;
    --text:#edfff7;       /* 본문 밝게 */
    --muted:#c9f1e0;
    --subtle:#b3ead7;
    --placeholder:#97ceb9;
    --border:#25473c;

    --brand:#29d36a;
    --brand-dark:#19b95c;
    --brand-weak:rgba(41,211,106,.18);
}

/* Base */
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
    margin:0; color:var(--text);
    background-color: var(--bg);            /* 배경색은 색상만 */
    font-family:"Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
    line-height:1.55;
    padding:18px 16px 60px;
    position: relative;
    overflow-x: hidden;
    transition: background-color .25s ease, color .25s ease;
}

/* === 배경 그라데이션: 라이트/다크 두 겹을 opacity로 '크로스페이드' ================== */
body::before,
body::after{
    content:"";
    position:fixed; inset:0; z-index:-1; pointer-events:none;
    will-change: opacity;
    transition: opacity .45s ease;
}
/* 라이트 배경 레이어 */
body::before{
    background:
            radial-gradient(1000px 600px at 100% -10%, rgba(34,197,94,.06), transparent 60%),
            radial-gradient(900px 520px at -10% 110%, rgba(16,185,129,.05), transparent 60%);
    opacity: 1;
}
/* 다크 배경 레이어 */
body::after{
    background:
            radial-gradient(1000px 600px at 100% -10%, rgba(41,211,106,.22), transparent 60%),
            radial-gradient(900px 520px at -10% 110%, rgba(20,120,85,.24), transparent 60%);
    opacity: 0;
}
/* 다크모드일 때 두 레이어의 투명도를 교차 */
body.dark::before{ opacity: 0; }
body.dark::after{ opacity: 1; }

/* ===== Topbar ============================================================ */
.topbar{
    width:min(1080px,96vw);
    margin:0 auto 8px;
    display:flex; align-items:center; justify-content:space-between;
}
.brand{
    display:inline-flex; align-items:center;
    padding:6px 10px; font-weight:900; font-size:14px; letter-spacing:.2px;
    color:var(--brand-dark);
    background:linear-gradient(180deg,#f0fff7,#ffffff);
    border:1px solid var(--border); border-radius:999px;
    box-shadow:0 4px 10px rgba(16,185,129,.10);
}
body.dark .brand{
    color:#e6fff2; background:linear-gradient(180deg,rgba(23,46,38,.88),rgba(18,36,30,.88));
}
.theme-toggle{
    padding:6px 10px; border:none; border-radius:999px; cursor:pointer;
    font-weight:900; font-size:13px; color:#0a1b13; background:#bdf4d3;
    box-shadow:0 4px 10px rgba(var(--ring), .18);
}
body.dark .theme-toggle{ color:#08110e; background:#9cf0c3; }

/* ===== 상단 좁게/깔끔 ==================================================== */
.personalDataPage_top{
    width:min(1080px,96vw);
    margin:6px auto 4px;
    display:grid; grid-template-columns: 1fr auto auto; gap:8px; align-items:center;
}
.personalDataText{
    margin:0; font-size:15px; font-weight:900; color:var(--brand-dark);
    background:linear-gradient(180deg,#eafff1,#fff);
    border:1px solid var(--border); border-radius:999px;
    padding:5px 10px; box-shadow:0 3px 8px rgba(16,185,129,.10);
}
.userNameText{
    margin:0; font-size:13px; color:var(--subtle); font-weight:700; opacity:.95;
}
.moveMainPageText{
    justify-self:end;
    text-decoration:none; color:#0a1b13; font-weight:800; font-size:13px;
    background:#bdf4d3; border:1px solid #9fecc4; border-radius:999px;
    padding:6px 10px; box-shadow:0 3px 8px rgba(16,185,129,.12);
}
.moveMainPageText:hover{ filter:brightness(1.04); }
body.dark .moveMainPageText{ color:#08110e; }

/* ===== 테이블: 카드 스타일 ============================================== */
table{
    width:min(1080px,96vw);
    margin:12px auto;
    border-collapse:separate; border-spacing:0;
    background:var(--card);
    border:1px solid var(--border);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    overflow:hidden;
}

/* 헤더 */
table tr:first-child th{
    background:linear-gradient(180deg,#f7fff9,#ffffff);
    color:var(--text); font-weight:900; letter-spacing:.2px;
    padding:10px 12px; text-align:left;
    border-bottom:1px solid var(--border);
}
body.dark table tr:first-child th{
    background:linear-gradient(180deg,#0e221b,#10241d);
    color:#f4fff9;
}

/* 필터 테이블(첫 번째) 셀/컨트롤 */
.memberHeader td{
    padding:10px 12px; vertical-align:middle; border-bottom:1px solid var(--border);
}
.memberHeader input[type="text"],
.memberHeader input[type="number"],
.memberHeader select{
    width:100%; height:36px; padding:6px 10px;
    border:1px solid var(--border); border-radius:10px;
    background:#fff; color:var(--text); outline:none;
    transition:border-color .15s ease, box-shadow .15s ease, background-color .15s ease;
}
body.dark .memberHeader input[type="text"],
body.dark .memberHeader input[type="number"],
body.dark .memberHeader select{
    background:#122821; color:#edfff7;
    border-color:#2a4a3e;
}
.memberHeader input::placeholder{ color:var(--placeholder); opacity:.8; }
body.dark .memberHeader input::placeholder{ color:#a4dfcd; opacity:.95; }
.memberHeader input:focus,
.memberHeader select:focus{
    border-color:rgba(var(--ring), .55);
    box-shadow:0 0 0 4px rgba(var(--ring), .20);
}
#searchBtn{
    width:100%; height:36px; border:none; border-radius:999px;
    background:linear-gradient(180deg,var(--brand),var(--brand-dark)); color:#fff; font-weight:900;
    box-shadow:0 8px 18px rgba(var(--ring), .26); cursor:pointer;
    transition:filter .15s ease;
}
#searchBtn:hover{ filter:brightness(1.05); }

/* 총원 라벨: 컴팩트 칩 */
#memberTotalSize{
    display:block; width:min(1080px,96vw); margin:8px auto 2px;
    font-size:13px; font-weight:800; color:var(--subtle);
    background:var(--brand-weak); border:1px solid var(--border);
    border-radius:999px; padding:5px 10px; text-align:left;
}

/* 결과 테이블(두 번째) */
.memberList tr th,
.memberList tr td{
    padding:10px 12px; border-bottom:1px solid var(--border);
    color:var(--text);
}
.memberList tr:nth-child(even) td{ background:rgba(34,197,94,.03); }
.memberList tr:hover td{ background:rgba(34,197,94,.08); }
body.dark .memberList tr:nth-child(even) td{ background:rgba(41,211,106,.10); }

/* memberList 컬럼 비율 고정 (번호 / 이름 / 생년월일 / 전화번호 / 셀 정보 / 세례 / 양육 / 성장) */
.memberList{
    table-layout: fixed;

    border: none;
    border-radius: 0;
    box-shadow: none;
    margin: 0;
}
.memberList th:nth-child(1),
.memberList td:nth-child(1){ width:10%; }
.memberList th:nth-child(2),
.memberList td:nth-child(2){ width:12%; }
.memberList th:nth-child(3),
.memberList td:nth-child(3){ width:14%; }
.memberList th:nth-child(4),
.memberList td:nth-child(4){ width:16%; }
.memberList th:nth-child(5),
.memberList td:nth-child(5){ width:12%; }
.memberList th:nth-child(6),
.memberList td:nth-child(6){ width:10%; }
.memberList th:nth-child(7),
.memberList td:nth-child(7){ width:14%; }
.memberList th:nth-child(8),
.memberList td:nth-child(8){ width:15%; }

/* 셀 정보 입력 칸 최소 너비 (추가 행에서 잘리지 않도록) */
#newMemberRow td:nth-child(5){
    min-width:130px;
}

/* 정렬 가능한 헤더: 포인터/아이콘 공간 */
.memberList tr th[onclick]{
    user-select:none; cursor:pointer; position:relative;
    padding-right:22px; transition:color .15s ease;
}
.memberList tr th[onclick]:hover{ color:var(--brand-dark); }

/* 정렬 방향 아이콘(▲/▼) */
.memberList tr th[onclick].sorted::after{
    content: attr(data-sort);
    position:absolute; right:8px; top:50%; transform:translateY(-50%);
    font-size:12px; color:var(--brand-dark);
}
.memberList tr th[onclick][data-sort="asc"].sorted::after{ content:"▲"; }
.memberList tr th[onclick][data-sort="desc"].sorted::after{ content:"▼"; }

/* 팝업 가능한 이름 셀 힌트 */
#memberTable td[onclick^="memberPopup"]{
    cursor:pointer; text-decoration:underline dotted; font-weight:700;
}
#memberTable td[onclick^="memberPopup"]:hover{
    text-decoration:underline; color:var(--brand-dark);
}

/* ==== 청년 리스트 카드 + 내부 스크롤 =============================== */

/* 카드 박스 (스크롤 X, 단순 카드 역할) */
.memberListWrapper{
    width:min(1080px,96vw);
    margin:12px auto;
    background:var(--card);
    border:1px solid var(--border);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    overflow:hidden;
}

/* 헤더/바디 폭 맞추기 */
.memberList thead{
    display:table;
    width:100%;
    table-layout:fixed;
}

/* tbody만 스크롤 */
#memberTable{
    display:block;
    max-height:50vh;
    overflow-y:auto;
    overflow-x:hidden;

    scrollbar-width: thin; /* 기본보다 얇게 */
    scrollbar-color: rgba(34,197,94,.45) transparent; /* thumb / track */
}

/* tbody 안 tr을 다시 table처럼 */
#memberTable tr{
    display:table;
    width:100%;
    table-layout:fixed;
}

/* 첫 데이터 행 위쪽 선 제거 (선이 두 줄처럼 보일 때만 사용) */
#memberTable tr:first-child td{
    border-top: none;
}

/* WebKit 계열(Chrome, Edge, Safari)용 스크롤 커스텀 */
#memberTable::-webkit-scrollbar{
    width: 10px;
}
#memberTable::-webkit-scrollbar-track{
    background: transparent;
    margin: 6px 0;
}
#memberTable::-webkit-scrollbar-thumb{
    background: rgba(34,197,94,.45);
    border-radius: 999px;
    border: 2px solid transparent;
    background-clip: padding-box;
}
#memberTable::-webkit-scrollbar-thumb:hover{
    background: rgba(34,197,94,.75);
}

/* 다크 모드에서 스크롤 색 */
body.dark #memberTable{
    scrollbar-color: rgba(41,211,106,.8) transparent;
}
body.dark #memberTable::-webkit-scrollbar-thumb{
    background: rgba(41,211,106,.8);
}
body.dark #memberTable::-webkit-scrollbar-thumb:hover{
    background: rgba(41,211,106,1);
}

/* 반응형 */
@media (max-width: 920px){
    table{ display:block; overflow-x:auto; white-space:nowrap; }
    .personalDataPage_top{
        grid-template-columns: 1fr; gap:6px;
    }
    .moveMainPageText{ justify-self:start; }
}

/* ==== 청년 추가 버튼 ==================================================== */
#addMemberBtn {
    width: 100%;
    height: 36px;
    border: none;
    border-radius: 999px;
    font-weight: 900;
    font-size: 13px;
    padding: 0 12px;
    cursor: pointer;

    background: linear-gradient(180deg, var(--brand), var(--brand-dark));
    color: #fff;
    box-shadow: 0 8px 18px rgba(var(--ring), .26);

    transition: filter .15s ease, transform .12s ease;
}
#addMemberBtn:hover {
    filter: brightness(1.05);
    transform: translateY(-1px);
}
#addMemberBtn:active {
    filter: brightness(0.95);
    transform: translateY(0);
}
body.dark #addMemberBtn {
    background: linear-gradient(180deg, var(--brand), var(--brand-dark));
    color: #fff;
}

/* ==== 청년 리스트 번호 정렬 ============================================ */
#memberTable td:first-child {
    text-align: center;
    font-weight: 700;
}

/* ==== 청년 추가 입력 행 전체 스타일 ==================================== */

#newMemberRow td {
    padding: 8px 10px;
    background: rgba(34,197,94,.03);
    border-bottom: 1px solid var(--border);
}

body.dark #newMemberRow td {
    background: rgba(41,211,106,.14);
}

/* 첫 번째 칸(청년 저장 버튼) */
#newMemberRow td:first-child {
    max-width: 120px;
    text-align: center;
}

/* 청년 추가 행의 input/select 공통 스타일 */
#newMemberRow input[type="text"],
#newMemberRow input[type="number"],
#newMemberRow input[type="date"],
#newMemberRow select {
    width: 100%;
    height: 34px;
    padding: 6px 10px;
    border-radius: 10px;
    border: 1px solid var(--border);
    background: #ffffff;
    color: var(--text);
    font-size: 13px;
    outline: none;
    transition: border-color .15s ease, box-shadow .15s ease, background-color .15s ease;
}

body.dark #newMemberRow input[type="text"],
body.dark #newMemberRow input[type="number"],
body.dark #newMemberRow input[type="date"],
body.dark #newMemberRow select {
    background: #122821;
    border-color: #2a4a3e;
    color: #edfff7;
}

#newMemberRow input::placeholder {
    color: var(--placeholder);
    opacity: .9;
}
body.dark #newMemberRow input::placeholder {
    color: #a4dfcd;
    opacity: .95;
}

#newMemberRow input:focus,
#newMemberRow select:focus {
    border-color: rgba(var(--ring), .55);
    box-shadow: 0 0 0 3px rgba(var(--ring), .22);
}

/* 날짜 입력: 깔끔한 스타일 + 기본 달력 아이콘 유지 */
#newMemberRow input[type="date"] {
    -webkit-appearance: none;
    -moz-appearance: textfield;
    appearance: none;

    position: relative;
    width: 100%;
    height: 34px;
    padding: 6px 34px 6px 10px;
    border-radius: 10px;
    border: 1px solid var(--border);
    background: #ffffff;
    color: var(--text);
    font-size: 13px;
    outline: none;
    transition: border-color .15s ease, box-shadow .15s ease, background-color .15s ease;
}

body.dark #newMemberRow input[type="date"] {
    background: #122821;
    border-color: #2a4a3e;
    color: #edfff7;
}

/* 크롬/엣지 기본 달력 아이콘 살짝 정리 */
#newMemberRow input[type="date"]::-webkit-calendar-picker-indicator {
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
    opacity: 0.85;
}

#newMemberRow input[type="date"]:focus {
    border-color: rgba(var(--ring), .55);
    box-shadow: 0 0 0 3px rgba(var(--ring), .22);
}

/* ==== 청년 저장 버튼 ==================================================== */
.save-member-btn {
    width: 100%;
    height: 32px;
    border: none;
    border-radius: 999px;
    font-weight: 900;
    font-size: 13px;
    cursor: pointer;

    background: linear-gradient(180deg, var(--brand), var(--brand-dark));
    color: #ffffff;
    box-shadow: 0 6px 14px rgba(var(--ring), .22);

    transition: filter .15s ease, transform .12s ease;
}
.save-member-btn:hover {
    filter: brightness(1.05);
    transform: translateY(-1px);
}
.save-member-btn:active {
    filter: brightness(0.95);
    transform: translateY(0);
}

/* flatpickr 엘로힘 초록톤 커스텀 (선택) */
.flatpickr-calendar {
    border-radius: 12px;
    border: 1px solid var(--border);
    box-shadow: var(--shadow);
    background: var(--card);
}

.flatpickr-day.selected,
.flatpickr-day.startRange,
.flatpickr-day.endRange {
    background: linear-gradient(180deg, var(--brand), var(--brand-dark));
    border-color: var(--brand-dark);
    color: #fff;
}

.flatpickr-day:hover {
    background: rgba(34,197,94,.12);
}

/* ==== 공통 Select 통합 디자인 ========================================= */
/* 라이트 버전 */
.memberHeader select,
#newMemberRow select{
    width: 100%;
    height: 34px;
    padding: 6px 28px 6px 10px;
    border-radius: 10px;
    border: 1px solid var(--border);
    background-color: #ffffff;
    color: var(--text);
    font-size: 13px;
    outline: none;
    cursor: pointer;

    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;

    background-image:
            linear-gradient(45deg, transparent 50%, var(--placeholder) 50%),
            linear-gradient(135deg, var(--placeholder) 50%, transparent 50%);
    background-position:
            calc(100% - 14px) 50%,
            calc(100% - 9px) 50%;
    background-size: 6px 6px, 6px 6px;
    background-repeat: no-repeat;

    transition:
            border-color .15s ease,
            box-shadow .15s ease,
            background-color .15s ease;
}

/* 다크 버전 */
body.dark .memberHeader select,
body.dark #newMemberRow select{
    background-color: #122821;
    border-color: #2a4a3e;
    color: #edfff7;

    background-image:
            linear-gradient(45deg, transparent 50%, #a4dfcd 50%),
            linear-gradient(135deg, #a4dfcd 50%, transparent 50%);
}

/* 포커스 공통 효과 */
.memberHeader select:focus,
#newMemberRow select:focus{
    border-color: rgba(var(--ring), .55);
    box-shadow: 0 0 0 3px rgba(var(--ring), .20);
}

/* 옵션 색상(라이트/다크) */
.memberHeader select option,
#newMemberRow select option{
    background-color: var(--card);
    color: var(--text);
}
.memberHeader select option:checked,
#newMemberRow select option:checked{
    background-color: rgba(34,197,94,.12);
    color: var(--brand-dark);
}

body.dark .memberHeader select option,
body.dark #newMemberRow select option{
    background-color: #122821;
    color: #edfff7;
}
body.dark .memberHeader select option:checked,
body.dark #newMemberRow select option:checked{
    background-color: rgba(41,211,106,.35);
    color: #eafff4;
}
